
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<link href="https://gergelyk.github.io/peepshow/peep/" rel="canonical"/>
<meta content="Copy to clipboard" name="lang:clipboard.copy"/>
<meta content="Copied to clipboard" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No matching documents" name="lang:search.result.none"/>
<meta content="1 matching document" name="lang:search.result.one"/>
<meta content="# matching documents" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="../assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.1.2, mkdocs-material-4.6.3" name="generator"/>
<title>Peep - PeepShow</title>
<link href="../assets/stylesheets/application.adb8469c.css" rel="stylesheet"/>
<script src="../assets/javascripts/modernizr.86422ebf.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="../assets/fonts/material-icons.css" rel="stylesheet"/>
<link href="../custom.css" rel="stylesheet"/>
</head>
<body dir="ltr">
<svg class="md-svg">
<defs>
<svg height="448" id="__github" viewbox="0 0 416 448" width="416" xmlns="http://www.w3.org/2000/svg"><path d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z" fill="currentColor"></path></svg>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#peep" tabindex="0">
        Skip to content
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a aria-label="PeepShow" class="md-header-nav__button md-logo" href="https://gergelyk.github.io/peepshow" title="PeepShow">
<i class="md-icon"></i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              PeepShow
            </span>
<span class="md-header-nav__topic">
              
                Peep
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Search" spellcheck="false" type="text"/>
<label class="md-icon md-search__icon" for="__search"></label>
<button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        
      </button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
            Type to start searching
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/gergelyk/peepshow/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    peepshow
  </div>
</a>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main" role="main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="https://gergelyk.github.io/peepshow" title="PeepShow">
<i class="md-icon"></i>
</a>
    PeepShow
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-source="github" href="https://github.com/gergelyk/peepshow/" title="Go to repository">
<div class="md-source__icon">
<svg height="24" viewbox="0 0 24 24" width="24">
<use height="24" width="24" xlink:href="#__github"></use>
</svg>
</div>
<div class="md-source__repository">
    peepshow
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href=".." title="Overview">
      Overview
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Peep
      </label>
<a class="md-nav__link md-nav__link--active" href="./" title="Peep">
      Peep
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#navigating">
    Navigating
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-inspection">
    Basic Inspection
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#history">
    History
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expressions">
    Expressions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iterables">
    Iterables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subscribables">
    Subscribables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#callables">
    Callables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#exiting">
    Exiting
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../show/" title="Show">
      Show
    </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Table of contents</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#navigating">
    Navigating
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-inspection">
    Basic Inspection
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#history">
    History
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#expressions">
    Expressions
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#iterables">
    Iterables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subscribables">
    Subscribables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#callables">
    Callables
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#exiting">
    Exiting
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<a class="md-icon md-content__icon" href="https://github.com/gergelyk/peepshow/edit/master/docs/peep.md" title="Edit this page"></a>
<h1 id="peep">Peep<a class="headerlink" href="#peep" title="Permanent link">¶</a></h1>
<p><code>peep</code> function provides an interactive interface to access properties of the target object given as an argument. When called without arguments, <code>peep</code> starts from inspecting a dictionary that consists of all the variables in scope of the caller. There is also <code>peep_</code> function which expects an expression instead of variable to be provided as an argument. Such expression is evaluated in context of the caller and the result becomes a target object.</p>
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>  <span class="c1"># target object</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">peep</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>        <span class="c1"># target provided explicitly</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">peep</span><span class="p">()</span>         <span class="c1"># all the variables in this context a assembly to a target</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">peep_</span><span class="p">(</span><span class="s1">'x'</span><span class="p">)</span>     <span class="c1"># target provided as an expression</span>
</code></pre></div>
<h2 id="navigating">Navigating<a class="headerlink" href="#navigating" title="Permanent link">¶</a></h2>
<p>After invoking <code>peep</code> an interactive prompt appears on the screen. User can call one of the commands using either its full name or and alias. Alias consists only of capital letters form the full name. Use <em>Help</em> command to get full list of commands or invoke <em>help <command/></em> to get help on specific command <command/>.</p>
<div class="highlight"><pre><span></span><code>&gt; help        # provides list of commands
&gt; h           # the same as above
&gt; help manual # provides help on 'manual' command
&gt; h man       # the same as above
</code></pre></div>
<p>It is also possible to execute suggested command that is displayed in the prompt simply by hitting Enter key.</p>
<p>Prompt also provides type name of the target. This applies only to selected Python built-in types.</p>
<h2 id="basic-inspection">Basic Inspection<a class="headerlink" href="#basic-inspection" title="Permanent link">¶</a></h2>
<p>Regardless of the target type, command <em>Info</em> (executed at startup) can be used for displaying basic summary. More detailed information are provided by <em>Features</em> command.</p>
<p><em>PrettyPrint</em> command attempts to show target recursively in a recursive manner.</p>
<p>Commans <em>?</em> and <em>??</em> display target's docstring and source code respectively.</p>
<p>Whenever there is too much information on the screen, <em>CLear</em> command or CTRL+L can be used.</p>
<p>Typically there is a need of inspecting of target's attributes. This can be done by using <em>Dir</em> command. Optionally one can enter an integer number to select corresponding attribute. Such attribute becomes a new target. Beside <em>Dir</em>, there are also <em>DirAll</em> and <em>DirPublic</em> that help to specify if private or built-in attributes should be considered. Note that peepshow distinguish between public/private/built-in attributes by looking at the underscores in the name.</p>
<p>While <em>Dir</em> commands inspect by using <code>dir()</code> function, there are also <em>Vars</em> and <em>VarsPublic</em> commands that use <code>vars()</code> function instead.</p>
<p><em>.<attrib></attrib></em> is a command that can be used to access attributes without listing them.</p>
<p>Commands <em>Bases</em>, <em>Mro</em>, <em>Self</em>, <em>Type</em> can be invoked to understand relations between the type of the target and other types. For more details use <em>help</em>.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>&gt; t           # take type of the target
&gt; .__name__   # take name of the type above
&gt; d           # list attributes of the string above
&gt; 5           # select 5-th attribute
</code></pre></div>
<h2 id="history">History<a class="headerlink" href="#history" title="Permanent link">¶</a></h2>
<p>Peepshow keeps track of the targets that are examined. One can display history and traverse through it by using following commands:</p>
<div class="highlight"><pre><span></span><code>&gt; .    # display history
&gt; ..   # go one step backward
&gt; -    # go one step forward
&gt; /    # go to the very beginning
</code></pre></div>
<h2 id="expressions">Expressions<a class="headerlink" href="#expressions" title="Permanent link">¶</a></h2>
<p>For clarity, in the title bar target is described in a functional language that is not necessarily a valid Python expression. This language extends Python by:</p>
<ul>
<li><code>-&gt;</code> to denote passing target to a function. E.g. <code>x -&gt; func</code> corresponds to <code>func(x)</code> in pure Python.</li>
<li><code>=&gt;</code> to denote passing target to an expression. E.g. <code>x =&gt; _ + 5</code> corresponds to <code>(lambda _: _ + 5)(x)</code> in pure Python.</li>
<li><code>&lt;&gt;</code> to denote taking n-th element of iterable. E.g. <code>range(30, 40)&lt;5&gt;</code> could be replaced by <code>[*range(30, 40)][5]</code> in pure Python.</li>
<li><code>&lt;*&gt;</code> to denote all the variables in context of the caller. Note that peepshow have access to locals, globals and built-ins, but not to enclosed variables.</li>
</ul>
<p><em>eXpression</em> prints a valid Python expression which evaluates to the target. The same expression can be passed to underlying IPython by <em>Export</em> command.</p>
<p>It is possible to evaluate an expression and consider result to be a new target. For instance:</p>
<div class="highlight"><pre><span></span><code>&gt; $range(100)  # take generator object as a new target
&gt; $list(_)     # converts target to a list and takes it as a new target
</code></pre></div>
<p>Following predefined symbols are available:</p>
<ul>
<li><code>_</code> - current target</li>
<li><code>nth</code> - function that returns n-th element from an iterable</li>
<li><code>catch</code> - wrapper that returns exception raised by wrapped function. For instance:</li>
</ul>
<div class="highlight"><pre><span></span><code>&gt; catch(divmod)(1, 0)  # returns ZeroDivisionError
</code></pre></div>
<p>Next to <em>$</em> (dollar) there is also <em>!</em> (exclamation mark) which evaluates expression and prints the result without replacing current target. For example:</p>
<div class="highlight"><pre><span></span><code>&gt; !import re                      # import 're' module
&gt; !m = re.match('\d*', '123abc')  # assign 'm'
&gt; $m.group()                      # execute 'group' method and take result as a target
</code></pre></div>
<h2 id="iterables">Iterables<a class="headerlink" href="#iterables" title="Permanent link">¶</a></h2>
<p>Elements of iterables can be listed by <em>*</em> (asterisk). Optional offset can be provided to skip given number of initial elements. Items from cache (last items visible on the screen) can be selected from by providing an integer numner. Cache can be recalled any time by <em>ShowCache</em>. Example:</p>
<div class="highlight"><pre><span></span><code>&gt; $range(1000)
&gt; *100          # show items starting from 100-th
&gt; 105           # pick 105-th item
</code></pre></div>
<p>It is important to know that generator objects are drained by listing their elements. In many cases this can influence execution of underlying application.</p>
<p>In case of dictionaries, only keys are iterated by invoking <em>*</em>. Alternatively <em>**</em> can be used to display keys and corresponding values. Optional offset can be specified.</p>
<h2 id="subscribables">Subscribables<a class="headerlink" href="#subscribables" title="Permanent link">¶</a></h2>
<p>Target can be subscribed by using square brackets. Slicing an other expressions are allowed. Examples:</p>
<div class="highlight"><pre><span></span><code>&gt; $[1, 22, 333]
&gt; ..
&gt; [2]     # select 333
&gt; ..
&gt; [1:]    # select [22, 333]
&gt; ..
&gt; [_[0]]  # select [22]
</code></pre></div>
<h2 id="callables">Callables<a class="headerlink" href="#callables" title="Permanent link">¶</a></h2>
<p>Targets can be called by using round brackets. All kinds of Python-compatible expressions are allowed inside. Examples:</p>
<div class="highlight"><pre><span></span><code>&gt; !x = (123,)
&gt; $str
&gt; ()                # empty string
&gt; ..
&gt; (*x)              # '123'
&gt; ..
&gt; (b'abc', 'utf8')  # 'abc'
</code></pre></div>
<p>Command <em>Pass</em> can be used for passing target to a function and executing this function:</p>
<div class="highlight"><pre><span></span><code>&gt; $"abcdef"
&gt; pass len  # equivalent of $len(_)
</code></pre></div>
<h2 id="exiting">Exiting<a class="headerlink" href="#exiting" title="Permanent link">¶</a></h2>
<p>Use <em>Quit</em> or CTRL+C to quit peepshow and terminate underlying application. Use <em>Continue</em> or CTRL+D to return to underlying application. Additionally <em>Export</em> command continues underlying IPython session and provides it with an expression that evaluates to current target.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href=".." rel="prev" title="Overview">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Previous
                </span>
                Overview
              </span>
</div>
</a>
<a class="md-flex md-footer-nav__link md-footer-nav__link--next" href="../show/" rel="next" title="Show">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Next
                </span>
                Show
              </span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Copyright © 2020 Grzegorz Krasoń
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" rel="noopener" target="_blank">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs</a>
</div>
<div class="md-footer-social">
<link href="../assets/fonts/font-awesome.css" rel="stylesheet"/>
<a class="md-footer-social__link fa fa-gitlab" href="https://github.com/gergelyk/peepshow" rel="noopener" target="_blank" title="gitlab"></a>
<a class="md-footer-social__link fa fa-envelope-o" href="mailto:grzegorz.krason@gmail.com" rel="noopener" target="_blank" title="envelope-o"></a>
</div>
</div>
</div>
</footer>
</div>
<script src="../assets/javascripts/application.c33a9706.js"></script>
<script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.4.8/mermaid.core.min.js"></script>
</body>
</html>